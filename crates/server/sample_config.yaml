env: local
state_store_path: indexify_storage/state/
listen_addr: 0.0.0.0:8900

telemetry:
  enable_metrics: false
  # Shared OTLP endpoint for both traces and metrics
  # If specified, both traces and metrics will be sent to this endpoint.
  # If not specified, the client will try to connect to the default endpoint
  # defined by the env variable `OTEL_EXPORTER_OTLP_ENDPOINT`.
  # endpoint: 'http://localhost:4317'

  # Exporter used to send spans to, default is disabled.
  # If it's disabled, no spans will be sent anywhere.
  # The enabled options are `otlp` and `stdout`.
  # The `otlp` exporter will send spans to the endpoint specified above,
  # or to the one defined by the env variable `OTEL_EXPORTER_OTLP_ENDPOINT`.
  # tracing_exporter: 'otlp'

  # Metrics export interval in seconds (defaults to 10 if not specified)
  metrics_interval: 5
  # Instance ID for this Indexify server instance
  # Used as a metric attribute "indexify.instance.id"
  instance_id: 'indexify-server-1'

# cloud_events:
#   backend:
#     amazon_sqs:
#       queue_url: 'https://sqs.us-east-1.amazonaws.com/123456789/my-queue'

# cloud_events:
#   backend:
#     redis:
#       dsn: 'redis://localhost:6379'
#       # Optional Redis configuration (defaults shown):
#       # max_connections: 8
#       # reinsert_on_nack: false
#       # queue_key: 'indexify:cloud_events'
#       # delayed_queue_key: 'indexify:cloud_events:delayed'
#       # delayed_lock_key: 'indexify:cloud_events:delayed_lock'
#       # consumer_group: 'indexify'
#       # consumer_name: 'indexify'
#       # payload_key: 'payload'
#       # ack_deadline_ms: 30000

# Executor catalog configuration.
#
# Each catalog entry defines a named executor type and the regions where
# it can be deployed. This creates a structured catalog of available
# executor configurations.
#
# Executors connect with labels including "sku" and "region" that must
# match an entry in this catalog to be accepted.
#
# If no catalog entries are configured, executor label checks are not
# enforced; all executor labels are allowed.
executor_catalog:
  - name: 'gpu-xl'
    cpu_cores: 16
    memory_gb: 64
    disk_gb: 100
    regions:
      - 'us-west-2'
      - 'eu-west-1'
    labels:
      gpu_size: xl
  - name: 'cpu-s'
    cpu_cores: 8
    memory_gb: 32
    disk_gb: 100
    gpu_models:
      - 'A100'
      - 'V100'
    regions:
      - 'us-east-1'
      - 'us-west-2'
  - name: 'gpu-xxl'
    cpu_cores: 32
    memory_gb: 128
    disk_gb: 100
    regions:
      - 'eu-west-1'
